# 一致性模型

## 概述

本lab演示了不同的数据一致性模型：
- 线性一致性（Linearizability）
- 最终一致性（Eventual Consistency）
- 因果一致性（Causal Consistency）

## 对应DDIA章节

- 第9章：一致性与共识
- 第9.2节：线性一致性
- 第9.3节：顺序保证

## 一致性模型对比

### 线性一致性
- **特点**: 所有操作看起来是原子执行的
- **优势**: 最强的一致性保证
- **劣势**: 性能开销大，可能影响可用性

### 最终一致性
- **特点**: 系统最终会达到一致状态
- **优势**: 高可用，高性能
- **劣势**: 可能暂时不一致

### 因果一致性
- **特点**: 保证因果相关的操作顺序
- **优势**: 比最终一致性更强，比线性一致性更弱
- **劣势**: 需要跟踪因果关系

## 运行方式

```bash
# 运行线性一致性测试
cd linearizability
go run main.go

# 运行最终一致性示例
cd eventual
go run main.go

# 运行因果一致性示例
cd causal
go run main.go
```

## 关键权衡

- **一致性强度 vs 性能**: 一致性越强，性能通常越低
- **一致性 vs 可用性**: 强一致性可能影响系统可用性（CAP定理）
- **适用场景**: 根据业务需求选择合适的一致性模型

