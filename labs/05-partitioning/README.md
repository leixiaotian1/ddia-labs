# 数据分区

## 概述

本lab演示了三种主要的数据分区策略：
- 范围分区（Range Partitioning）
- 哈希分区（Hash Partitioning）
- 一致性哈希（Consistent Hashing）

## 对应DDIA章节

- 第6章：分区
- 第6.1节：分区与复制
- 第6.2节：键值数据的分区
- 第6.3节：分区与二级索引

## 分区策略对比

### 范围分区
- **特点**: 按key的范围划分
- **优势**: 支持范围查询，数据局部性好
- **劣势**: 可能产生热点分区

### 哈希分区
- **特点**: 按key的哈希值划分
- **优势**: 数据分布均匀，避免热点
- **劣势**: 不支持范围查询

### 一致性哈希
- **特点**: 使用一致性哈希环，支持动态扩缩容
- **优势**: 节点增减时数据迁移少
- **劣势**: 实现相对复杂

## 运行方式

```bash
# 运行范围分区示例
cd range-partition
go run main.go

# 运行哈希分区示例
cd hash-partition
go run main.go

# 运行一致性哈希示例
cd consistent-hash
go run main.go
```

## 关键权衡

- **查询模式**: 范围查询适合范围分区，等值查询适合哈希分区
- **负载均衡**: 哈希分区负载更均匀，范围分区可能产生热点
- **扩展性**: 一致性哈希支持更好的动态扩展

